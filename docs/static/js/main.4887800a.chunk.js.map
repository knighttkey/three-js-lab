{"version":3,"sources":["components/context.js","components/Booking/Booking.js","App.js","reportWebVitals.js","index.js"],"names":["context","createContext","Provider","Consumer","Booking","contextValue","useContext","useState","wsState","setWsState","campSelectedList","setCampSelectedList","console","log","useEffect","ws","WebSocket","onopen","onclose","onmessage","event","JSON","parse","data","className","value","campId","campArea","campType","campName","campCapacity","campPrice","map","campItem","campIndex","R","onClick","tempCampList","push","send","stringify","pickCamp","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4887800a.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\nconst context = createContext();\r\nexport const { Provider, Consumer } = context;\r\nexport default context;","import React, {\r\n  useCallback,\r\n  useState,\r\n  useEffect,\r\n  Fragment,\r\n  useContext,\r\n} from \"react\";\r\nimport \"./Booking.scss\";\r\nimport { Provider } from \"../context\";\r\nimport * as R from \"ramda\";\r\n\r\nimport context from \"../context\";\r\n\r\nconst Booking = () => {\r\n  const contextValue = useContext(context);\r\n  const {} = contextValue;\r\n  const [wsState, setWsState] = useState();\r\n  const [campSelectedList, setCampSelectedList] = useState([]);\r\n  const [userId, setUserId] = useState(\"\");\r\n  console.log('campSelectedList', campSelectedList)\r\n  \r\n  \r\n  useEffect(() => {\r\n    let ws = new WebSocket(\"wss://camp-booking-websocket.herokuapp.com\");\r\n    // let ws = new WebSocket(\"ws://localhost:5400\");\r\n    console.log('ws', ws)\r\n      setWsState(ws);\r\n      ws.onopen = () => {\r\n        console.log(\"open connection\");\r\n        //   ws.send(\"yyyes\");\r\n      //   ws.send(JSON.stringify([{\r\n      //     campId: \"0035\",\r\n      //     campArea: \"A1\",\r\n      //     campType: \"budget\",\r\n      //     campName: \"悠遊生活\",\r\n      //     campCapacity: 4,\r\n      //     campPrice: 2000,\r\n      //   }]));\r\n      };\r\n  \r\n      ws.onclose = () => {\r\n        console.log(\"close connection\");\r\n      };\r\n  \r\n      ws.onmessage = (event) => {\r\n        console.log(\"event\", event);\r\n        console.log(\"event.data\", JSON.parse(event.data));\r\n        setCampSelectedList(JSON.parse(event.data));\r\n      };\r\n\r\n  }, []);\r\n\r\n\r\n  const pickCamp = (campItem) => {\r\n    let tempCampList = [...campSelectedList];\r\n    console.log(\"campItem\", campItem);\r\n    if (R.includes(campItem, tempCampList)) {\r\n        tempCampList = R.without([campItem], tempCampList);\r\n    } else {\r\n      tempCampList.push(campItem);\r\n    }\r\n    console.log('tempCampList', tempCampList);\r\n    setCampSelectedList(tempCampList);\r\n    wsState.send(JSON.stringify(tempCampList));\r\n  };\r\n\r\n  let campList = [\r\n    {\r\n      campId: \"01\",\r\n      campArea: \"A1\",\r\n      campType: \"budget\",\r\n      campName: \"悠遊生活\",\r\n      campCapacity: 4,\r\n      campPrice: 2000,\r\n    },\r\n    {\r\n      campId: \"02\",\r\n      campArea: \"A1\",\r\n      campType: \"budget\",\r\n      campName: \"悠遊生活\",\r\n      campCapacity: 4,\r\n      campPrice: 2000,\r\n    },\r\n    {\r\n      campId: \"03\",\r\n      campArea: \"A1\",\r\n      campType: \"budget\",\r\n      campName: \"恬靜生活\",\r\n      campCapacity: 4,\r\n      campPrice: 2000,\r\n    },\r\n    {\r\n      campId: \"04\",\r\n      campArea: \"A1\",\r\n      campType: \"budget\",\r\n      campName: \"恬靜生活\",\r\n      campCapacity: 4,\r\n      campPrice: 2000,\r\n    },\r\n    {\r\n      campId: \"01\",\r\n      campArea: \"B1\",\r\n      campType: \"fancy\",\r\n      campName: \"夏日海洋\",\r\n      campCapacity: 6,\r\n      campPrice: 4000,\r\n    },\r\n    {\r\n      campId: \"02\",\r\n      campArea: \"B1\",\r\n      campType: \"fancy\",\r\n      campName: \"夏日海洋\",\r\n      campCapacity: 6,\r\n      campPrice: 4000,\r\n    },\r\n    {\r\n      campId: \"03\",\r\n      campArea: \"B1\",\r\n      campType: \"fancy\",\r\n      campName: \"魔幻森林\",\r\n      campCapacity: 6,\r\n      campPrice: 4000,\r\n    },\r\n    {\r\n      campId: \"04\",\r\n      campArea: \"B1\",\r\n      campType: \"fancy\",\r\n      campName: \"魔幻森林\",\r\n      campCapacity: 6,\r\n      campPrice: 4000,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className={`booking_container`}>\r\n      <Provider value={contextValue}>\r\n        <div className=\"camp_section\">\r\n          {campList.map((campItem, campIndex) => {\r\n            return (\r\n              <div\r\n                className={`each_camp ${\r\n                  R.includes(campItem, campSelectedList) ? \"selected\" : \"\"\r\n                }`}\r\n                key={campIndex}\r\n                onClick={() => pickCamp(campItem)}\r\n              >\r\n                <div className=\"camp_area\">{campItem.campArea}</div>\r\n                <div className=\"camp_id\">{campItem.campId}</div>\r\n                <div className={`camp_type ${campItem.campType===\"budget\"?\"budget\":\"fancy\"}`}></div>\r\n                {/* <div className=\"camp_name\">{campItem.campName}</div> */}\r\n                <div className=\"camp_capacity\">{campItem.campCapacity}人</div>\r\n                <div className=\"camp_price\">{campItem.campPrice}元</div>\r\n              </div>\r\n            );\r\n          })}\r\n          <div className=\"camp\"></div>\r\n          <div className=\"img\"></div>\r\n        </div>\r\n      </Provider>\r\n    </div>\r\n  );\r\n};\r\nexport default Booking;\r\n","import React, {\n  useCallback,\n  useState,\n  useEffect,\n  Fragment,\n  useContext,\n} from \"react\";\nimport \"./App.scss\";\nimport Booking from \"./components/Booking/Booking\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nimport { Provider } from \"./components/context\";\nconst App = () => {\n  const contextValue = {\n\n  }\n  return (\n    <div className=\"App\">\n    <Provider value={contextValue}>\n        <Booking/>\n    </Provider>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}